{
	"swagger": "2.0",
	"info": {
		"description": "REST-ful API used to communicate with the Skipodium backend.",
		"version": "1.0.0",
		"title": "Skipodium API",
		"contact": {
			"name": "Blue Brick API Team",
			"url": "",
			"email": "adam.domagalski@blue-brick.com"
		}
	},
	"tags": [
		{
			"name": "Default",
			"description": "Items either unrelated to any section or used by entities of different sections"
		},
		{
			"name": "Schools",
			"description": "Items related to School management"
		},
		{
			"name": "Messages",
			"description": "Items related to requests, notifications and feedback management"
		},
		{
			"name": "Users",
			"description": "Items related to user management"
		},
		{
			"name": "Lessons",
			"description": "Items related to lesson management"
		},
		{
			"name": "Payments",
			"description": "Items related to all sorts of payments / awards of bonus money"
		},
		{
			"name": "Bundles",
			"description": "Items related to lesson bundles"
		},
		{
			"name": "Generators",
			"description": "Items related to lesson/bundle generators"
		}
	],
	"paths": {
		"/bundle": {
			"post": {
				"tags": [
					"Bundles"
				],
				"summary": "Adds a new bundle",
				"description": "Adds a new bundle",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"in": "body",
						"name": "body",
						"required": false,
						"schema": {
							"$ref": "#/definitions/Bundle"
						}
					}
				],
				"responses": {
					"200": {
						"description": "Success"
					},
					"400": {
						"description": "Invalid data provided."
					},
					"401": {
						"description": "Permission not granted."
					}
				}
			}
		},
		"/bundle/{bundleId}": {
			"get": {
				"tags": [
					"Bundles"
				],
				"summary": "Gets a bundle by ID",
				"description": "Gets a bundle by ID",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "bundleId",
						"in": "path",
						"required": true,
						"type": "string"
					}
				],
				"responses": {
					"200": {
						"description": "Success",
						"schema": {
							"$ref": "#/definitions/Bundle"
						}
					},
					"401": {
						"description": "Permission not granted."
					},
					"404": {
						"description": "The element with the given ID does not exist."
					}
				}
			},
			"put": {
				"tags": [
					"Bundles"
				],
				"summary": "Modifies an existing bundle",
				"description": "Modifies an existing bundle",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "bundleId",
						"in": "path",
						"required": true,
						"type": "string"
					},
					{
						"in": "body",
						"name": "body",
						"required": false,
						"schema": {
							"$ref": "#/definitions/Bundle"
						}
					}
				],
				"responses": {
					"200": {
						"description": "Success"
					},
					"400": {
						"description": "The submitted request is malformed."
					},
					"401": {
						"description": "Permission not granted."
					},
					"404": {
						"description": "The element with the given ID does not exist."
					}
				}
			},
			"delete": {
				"tags": [
					"Bundles"
				],
				"summary": "Deletes a bundle",
				"description": "Deletes a bundle",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "bundleId",
						"in": "path",
						"required": true,
						"type": "string"
					}
				],
				"responses": {
					"200": {
						"description": "Success"
					},
					"401": {
						"description": "Permission not granted."
					},
					"404": {
						"description": "The element with the given ID does not exist."
					}
				}
			}
		},
		"/bundle/{bundleId}/addLesson": {
			"put": {
				"tags": [
					"Bundles"
				],
				"summary": "Adds a lesson to the bundle",
				"description": "Adds a lesson to the bundle",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "bundleId",
						"in": "path",
						"required": true,
						"type": "string"
					},
					{
						"in": "body",
						"name": "body",
						"required": false,
						"schema": {
							"$ref": "#/definitions/Lesson"
						}
					},
					{
						"name": "lessonId",
						"in": "query",
						"description": "ID of the lesson to add",
						"required": false,
						"type": "string"
					}
				],
				"responses": {
					"200": {
						"description": "Success"
					},
					"400": {
						"description": "The submitted request is malformed."
					},
					"401": {
						"description": "Permission not granted."
					},
					"404": {
						"description": "The requested resource does not exist."
					}
				}
			}
		},
		"/bundle/{bundleId}/deleteLesson": {
			"put": {
				"tags": [
					"Bundles"
				],
				"summary": "Removes a lesson from bundle.",
				"description": "Removes a lesson from bundle.",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "bundleId",
						"in": "path",
						"required": true,
						"type": "string"
					},
					{
						"in": "body",
						"name": "body",
						"required": false,
						"schema": {
							"$ref": "#/definitions/Lesson"
						}
					},
					{
						"name": "lessonId",
						"in": "query",
						"description": "ID of the lesson to remove",
						"required": false,
						"type": "string"
					}
				],
				"responses": {
					"200": {
						"description": "Success"
					},
					"400": {
						"description": "The submitted request is malformed."
					},
					"401": {
						"description": "Permission not granted."
					},
					"404": {
						"description": "The requested resource does not exist."
					}
				}
			}
		},
		"/bundle/{bundleId}/purchase": {
			"post": {
				"tags": [
					"Lessons"
				],
				"summary": "Purchase a new bundle.",
				"description": "Purchase a new bundle.",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "bundleId",
						"in": "path",
						"required": true,
						"type": "string"
					},
					{
						"name": "guestIds",
						"in": "query",
						"description": "A list of IDs of users for which the bundle is purchased.",
						"required": false,
						"type": "array",
						"items": {
							"type": "string"
						}
					}
				],
				"responses": {
					"200": {
						"description": "The instructor has been changed."
					},
					"400": {
						"description": "The submitted request is malformed."
					},
					"401": {
						"description": "Permission not granted."
					}
				}
			}
		},
		"/bundle/{bundleId}/lessons": {
			"get": {
				"tags": [
					"Bundles"
				],
				"summary": "Gets all lessons of a bundle",
				"description": "Gets all lessons of a bundle",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "bundleId",
						"in": "path",
						"required": true,
						"type": "string"
					}
				],
				"responses": {
					"200": {
						"description": "Success",
						"schema": {
							"type": "array",
							"items": {
								"$ref": "#/definitions/Lesson"
							}
						}
					},
					"401": {
						"description": "Permission not granted."
					},
					"404": {
						"description": "The requested resource does not exist."
					}
				}
			}
		},
		"/contact": {
			"post": {
				"tags": [
					"Default"
				],
				"summary": "Sends a message to Skipodium support
				"description": "Adds a new bundle",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"in": "body",
						"name": "body",
						"required": false,
						"schema": {
							"$ref": "#/definitions/Bundle"
						}
					}
				],
				"responses": {
					"200": {
						"description": "Success"
					},
					"400": {
						"description": "Invalid data provided."
					},
					"401": {
						"description": "Permission not granted."
					}
				}
			}
		},
		"/employee": {
			"post": {
				"tags": [
					"Users"
				],
				"summary": "Adds a new employee",
				"description": "Adds a new employee",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"in": "body",
						"name": "body",
						"required": false,
						"schema": {
							"$ref": "#/definitions/Employee"
						}
					}
				],
				"responses": {
					"200": {
						"description": "Success"
					},
					"400": {
						"description": "The submitted request is malformed."
					},
					"401": {
						"description": "Permission not granted."
					}
				}
			}
		},
		"/employee/{employeeId}": {
			"get": {
				"tags": [
					"Users"
				],
				"summary": "Gets an employee by ID",
				"description": "Gets an employee by ID",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "employeeId",
						"in": "path",
						"required": true,
						"type": "string"
					}
				],
				"responses": {
					"200": {
						"description": "Sucess",
						"schema": {
							"$ref": "#/definitions/Employee"
						}
					},
					"400": {
						"description": "The submitted request was malformed."
					},
					"404": {
						"description": "The requested resource does not exist."
					}
				}
			},
			"put": {
				"tags": [
					"Users"
				],
				"summary": "Modifies an existing employee",
				"description": "Modifies an existing employee",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "employeeId",
						"in": "path",
						"required": true,
						"type": "string"
					},
					{
						"in": "body",
						"name": "body",
						"required": false,
						"schema": {
							"$ref": "#/definitions/Employee"
						}
					}
				],
				"responses": {
					"200": {
						"description": "Success"
					},
					"400": {
						"description": "The submitted request is malformed."
					},
					"401": {
						"description": "Permission not granted."
					},
					"404": {
						"description": "The requested resource does not exist."
					}
				}
			},
			"delete": {
				"tags": [
					"Users"
				],
				"summary": "Schedules an employee for deletion.",
				"description": "Schedules an employee for deletion.",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "employeeId",
						"in": "path",
						"required": true,
						"type": "string"
					}
				],
				"responses": {
					"200": {
						"description": "Success"
					},
					"401": {
						"description": "Permission not granted."
					},
					"404": {
						"description": "The requested resource does not exist."
					}
				}
			}
		},
		"/generator": {
			"post": {
				"tags": [
					"Generators"
				],
				"summary": "Creates a new generator",
				"description": "Creates a new generator",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"in": "body",
						"name": "body",
						"required": false,
						"schema": {
							"$ref": "#/definitions/Generator"
						}
					},
					{
						"name": "isBundle",
						"in": "query",
						"description": "Determines whether the generator will be a bundle generator.",
						"required": false,
						"type": "string"
					}
				],
				"responses": {
					"200": {
						"description": "Success"
					},
					"400": {
						"description": "The submitted request is malformed."
					},
					"401": {
						"description": "Permission not granted."
					}
				}
			}
		},
		"/generator/{generatorId}": {
			"get": {
				"tags": [
					"Generators"
				],
				"summary": "Gets a generator by ID",
				"description": "Gets a generator by ID",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "generatorId",
						"in": "path",
						"required": true,
						"type": "string"
					}
				],
				"responses": {
					"200": {
						"description": "Success",
						"schema": {
							"$ref": "#/definitions/Generator"
						}
					},
					"401": {
						"description": "Permission not granted."
					},
					"404": {
						"description": "The element with the given ID does not exist."
					}
				}
			},
			"put": {
				"tags": [
					"Generators"
				],
				"summary": "Edits an existing generator",
				"description": "Edits an existing generator",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "generatorId",
						"in": "path",
						"required": true,
						"type": "string"
					},
					{
						"in": "body",
						"name": "body",
						"required": false,
						"schema": {
							"$ref": "#/definitions/Generator"
						}
					}
				],
				"responses": {
					"200": {
						"description": "Success"
					},
					"400": {
						"description": "Error 400"
					},
					"401": {
						"description": "Permission not granted."
					},
					"404": {
						"description": "Error 404"
					}
				}
			},
			"delete": {
				"tags": [
					"Generators"
				],
				"summary": "Deletes a generator",
				"description": "Deletes a generator",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "generatorId",
						"in": "path",
						"required": true,
						"type": "string"
					}
				],
				"responses": {
					"200": {
						"description": "Success"
					},
					"401": {
						"description": "Permission not granted."
					},
					"404": {
						"description": "The element with the given ID does not exist."
					}
				}
			}
		},
		"/generator/{generatorId}/bundleTemplate": {
			"put": {
				"tags": [
					"Generators"
				],
				"summary": "Modifies the bundle template of the generator",
				"description": "Modifies the bundle template of the generator",
				"consumes": [
					"application/json"
				],
				"produces": [],
				"parameters": [
					{
						"name": "generatorId",
						"in": "path",
						"required": true,
						"type": "string"
					},
					{
						"in": "body",
						"name": "body",
						"required": false,
						"schema": {
							"$ref": "#/definitions/BundleTemplate"
						}
					}
				],
				"responses": {
					"200": {
						"description": "Success"
					},
					"400": {
						"description": "The submitted request is malformed."
					},
					"401": {
						"description": "Permission not granted."
					},
					"404": {
						"description": "The requested resource does not exist."
					}
				}
			}
		},
		"/generator/{generatorId}/lessonTemplate": {
			"put": {
				"tags": [
					"Generators"
				],
				"summary": "Modifies the bundle template of the generator",
				"description": "Modifies the bundle template of the generator",
				"consumes": [
					"application/json"
				],
				"produces": [],
				"parameters": [
					{
						"name": "generatorId",
						"in": "path",
						"required": true,
						"type": "string"
					},
					{
						"in": "body",
						"name": "body",
						"required": false,
						"schema": {
							"$ref": "#/definitions/LessonTemplate"
						}
					}
				],
				"responses": {
					"200": {
						"description": "Success"
					},
					"400": {
						"description": "The submitted request is malformed."
					},
					"401": {
						"description": "Permission not granted."
					},
					"404": {
						"description": "The requested resource does not exist."
					}
				}
			}
		},
		"/lesson": {
			"get": {
				"tags": [
					"Lessons"
				],
				"summary": "Gets lessons by parameters",
				"description": "Gets lessons by parameters",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "maxPrice",
						"in": "query",
						"required": false,
						"type": "array",
						"items": {
							"type": "string"
						}
					},
					{
						"name": "bookingType",
						"in": "query",
						"required": false,
						"type": "array",
						"items": {
							"type": "string"
						}
					},
					{
						"name": "schoolId",
						"in": "query",
						"required": false,
						"type": "array",
						"items": {
							"type": "string"
						}
					},
					{
						"name": "instructorId",
						"in": "query",
						"required": false,
						"type": "array",
						"items": {
							"type": "string"
						}
					},
					{
						"name": "speciality",
						"in": "query",
						"required": false,
						"type": "array",
						"items": {
							"type": "string"
						}
					},
					{
						"name": "level",
						"in": "query",
						"required": false,
						"type": "array",
						"items": {
							"type": "string"
						}
					},
					{
						"name": "meetingPoint",
						"in": "query",
						"required": false,
						"type": "array",
						"items": {
							"type": "string"
						}
					},
					{
						"name": "dateFrom",
						"in": "query",
						"required": false,
						"type": "array",
						"items": {
							"type": "string"
						}
					},
					{
						"name": "dateTo",
						"in": "query",
						"required": false,
						"type": "array",
						"items": {
							"type": "string"
						}
					},
					{
						"name": "clientSource",
						"in": "query",
						"description": "Skipodium user, manually booked by school, white label etc",
						"required": false,
						"type": "array",
						"items": {
							"type": "string"
						}
					},
					{
						"name": "booked",
						"in": "query",
						"description": "Whether it's already booked or not",
						"required": false,
						"type": "array",
						"items": {
							"type": "string"
						}
					},
					{
						"name": "generatorId",
						"in": "query",
						"required": false,
						"type": "array",
						"items": {
							"type": "string"
						}
					},
					{
						"name": "bundled",
						"in": "query",
						"required": false,
						"type": "array",
						"items": {
							"type": "string"
						}
					},
					{
						"name": "single",
						"in": "query",
						"required": false,
						"type": "array",
						"items": {
							"type": "string"
						}
					},
					{
						"name": "criteria",
						"in": "query",
						"description": "Other additional sorting criteria",
						"required": false,
						"type": "string"
					},
					{
						"name": "startPage",
						"in": "query",
						"description": "Starting index of the whole list to fetch",
						"required": false,
						"type": "string"
					},
					{
						"name": "endPage",
						"in": "query",
						"description": "Ending index of the whole list to fetch",
						"required": false,
						"type": "string"
					}
				],
				"responses": {
					"200": {
						"description": "Success",
						"schema": {
							"type": "array",
							"items": {
								"$ref": "#/definitions/Lesson"
							}
						}
					},
					"400": {
						"description": "The submitted request is malformed."
					},
					"401": {
						"description": "Permission not granted."
					},
					"404": {
						"description": "No lesson with given matching the provided parameters was found."
					}
				}
			},
			"post": {
				"tags": [
					"Lessons"
				],
				"summary": "Creates a new lesson",
				"description": "Creates a new lesson",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"in": "body",
						"name": "body",
						"required": false,
						"schema": {
							"$ref": "#/definitions/Lesson"
						}
					}
				],
				"responses": {
					"200": {
						"description": "Success"
					},
					"400": {
						"description": "The submitted request is malformed."
					},
					"401": {
						"description": "Permission not granted."
					}
				}
			}
		},
		"/lesson/{lessonId}": {
			"get": {
				"tags": [
					"Lessons"
				],
				"summary": "Gets a lesson by ID",
				"description": "Gets a lesson by ID",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "lessonId",
						"in": "path",
						"description": "ID of the lesson to work with.",
						"required": true,
						"type": "string"
					}
				],
				"responses": {
					"200": {
						"description": "Success",
						"schema": {
							"$ref": "#/definitions/Lesson"
						}
					},
					"401": {
						"description": "You do not have permission to perform this operation"
					},
					"404": {
						"description": "No lesson with the specified id was found"
					}
				}
			},
			"put": {
				"tags": [
					"Lessons"
				],
				"summary": "Modifies an existing lesson",
				"description": "Modifies an existing lesson",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "lessonId",
						"in": "path",
						"description": "ID of the lesson to work with.",
						"required": true,
						"type": "string"
					},
					{
						"in": "body",
						"name": "body",
						"required": false,
						"schema": {
							"$ref": "#/definitions/Lesson"
						}
					}
				],
				"responses": {
					"200": {
						"description": "Success"
					},
					"400": {
						"description": "The submitted request is malformed."
					},
					"401": {
						"description": "Permission not granted."
					},
					"404": {
						"description": "The element with the given ID does not exist."
					}
				}
			},
			"delete": {
				"tags": [
					"Lessons"
				],
				"summary": "Deletes a lesson by ID",
				"description": "Deletes a lesson by ID",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "lessonId",
						"in": "path",
						"description": "ID of the lesson to work with.",
						"required": true,
						"type": "string"
					}
				],
				"responses": {
					"200": {
						"description": "Success"
					},
					"401": {
						"description": "Permission not granted."
					},
					"404": {
						"description": "The element with the given ID does not exist."
					}
				}
			}
		},
		"/lesson/{lessonId}/assignment": {
			"get": {
				"tags": [
					"Lessons"
				],
				"summary": "Get the assigned instructor",
				"description": "Get the assigned instructor",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "lessonId",
						"in": "path",
						"required": true,
						"type": "string"
					}
				],
				"responses": {
					"200": {
						"description": "Success",
						"schema": {
							"$ref": "#/definitions/User"
						}
					},
					"401": {
						"description": "Permission not granted."
					},
					"404": {
						"description": "The element with the given ID does not exist."
					}
				}
			}
		},
		"/lesson/{lessonId}/assignment/{instructorId}": {
			"put": {
				"tags": [
					"Lessons"
				],
				"summary": "Change the instructor assigned to the lesson",
				"description": "Change the instructor assigned to the lesson",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "instructorId",
						"in": "path",
						"required": true,
						"type": "string"
					},
					{
						"name": "lessonId",
						"in": "path",
						"required": true,
						"type": "string"
					}
				],
				"responses": {
					"200": {
						"description": "The instructor has been changed."
					},
					"401": {
						"description": "Permission not granted."
					},
					"404": {
						"description": "The element with the given ID does not exist."
					}
				}
			}
		},
		"/lesson/{lessonId}/purchase": {
			"post": {
				"tags": [
					"Lessons"
				],
				"summary": "Purchase a new lesson.",
				"description": "Purchase a new lesson.",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "lessonId",
						"in": "path",
						"required": true,
						"type": "string"
					},
					{
						"name": "id",
						"in": "query",
						"description": "A list of IDs of users the lesson was bought for.",
						"required": false,
						"type": "array",
						"items": {
							"type": "string"
						}
					}
				],
				"responses": {
					"200": {
						"description": "The instructor has been changed."
					},
					"400": {
						"description": "The submitted request is malformed."
					},
					"401": {
						"description": "Permission not granted."
					}
				}
			}
		},
		"/lesson/{lessonId}/participant": {
			"put": {
				"tags": [
					"Lessons"
				],
				"summary": "Remove or add a participant to a lesson",
				"description": "Remove or add a participant to a lesson",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "lessonId",
						"in": "path",
						"required": true,
						"type": "string"
					},
					{
						"in": "body",
						"name": "body",
						"required": false,
						"schema": {
							"$ref": "#/definitions/Lesson"
						}
					},
					{
						"name": "participants",
						"in": "query",
						"description": "A list id containing all of the participants, in order to remove a participant submit a list without his id (just other participants), if you would like to add a participant submit a list containing his id (and all other participants)",
						"required": false,
						"type": "array",
						"items": {
							"type": "string"
						}
					}
				],
				"responses": {
					"200": {
						"description": "Success"
					},
					"401": {
						"description": "Permission not granted."
					},
					"404": {
						"description": "The element with the given ID does not exist."
					}
				}
			}
		},
		"/login": {
			"post": {
				"tags": [
					"Default"
				],
				"summary": "Login method",
				"description": "Login method",
				"consumes": [],
				"produces": [],
				"parameters": [],
				"responses": {
					"200": {
						"description": "Success"
					},					
					"401": {
						"description": "The user has been deleted or invalid password."
					},
					"404": {
						"description": "No user with a given email found."
					}
				}
			}
		},
		"/signup": {
			"post": {
				"tags": [
					"Default"
				],
				"summary": "Signup method",
				"description": "Signup method",
				"consumes": [],
				"produces": [],
				"parameters": [],
				"responses": {
					"200": {
						"description": "Success"
					},					
					"401": {
						"description": "The user has been deleted or invalid password."
					}					
				}
			}
		},
		"/logout": {
			"get": {
				"tags": [
					"Default"
				],
				"summary": "Logout",
				"description": "Logout",
				"consumes": [],
				"produces": [],
				"parameters": [],
				"responses": {
					"200": {
						"description": "Success"
					}
				}
			}
		},
		"/message/{messageId}": {
			"get": {
				"tags": [
					"Messages"
				],
				"summary": "Gets a message by id",
				"description": "Gets a message by id",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "messageId",
						"in": "path",
						"required": true,
						"type": "string"
					}
				],
				"responses": {
					"200": {
						"description": "Success",
						"schema": {
							"$ref": "#/definitions/Message"
						}
					},
					"401": {
						"description": "Permission not granted."
					},
					"404": {
						"description": "The element with the given ID does not exist."
					}
				}
			},
			"delete": {
				"tags": [
					"Messages"
				],
				"summary": "Deletes a message",
				"description": "Deletes a message",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "messageId",
						"in": "path",
						"required": true,
						"type": "string"
					}
				],
				"responses": {
					"200": {
						"description": "Success"
					},
					"400": {
						"description": "The submitted request is malformed."
					},
					"401": {
						"description": "Permission not granted."
					},
					"404": {
						"description": "The element with the given ID does not exist."
					}
				}
			}
		},
		"/resetPassword": {
			"get": {
				"tags": [
					"Default"
				],
				"summary": "Resets a user's password",
				"description": "Resets a user's password",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"in": "body",
						"name": "body",
						"required": false,
						"schema": {
							"$ref": "#/definitions/User"
						}
					},
					{
						"name": "email",
						"in": "query",
						"required": false,
						"type": "array",
						"items": {
							"type": "string"
						}
					}
				],
				"responses": {
					"200": {
						"description": "The password was reset and a confirmation email is sent."
					},
					"401": {
						"description": "Permission not granted."
					},
					"404": {
						"description": "The email is not in the database."
					}
				}
			}
		},
		"/school": {
			"post": {
				"tags": [
					"Schools"
				],
				"summary": "Creates a new school",
				"description": "Creates a new school",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"in": "body",
						"name": "body",
						"required": false,
						"schema": {
							"$ref": "#/definitions/School"
						}
					}
				],
				"responses": {
					"200": {
						"description": "Success"
					},
					"400": {
						"description": "The submitted request is malformed."
					},
					"401": {
						"description": "Permission not granted."
					}
				}
			}
		},
		"/school/{schoolId}": {
			"get": {
				"tags": [
					"Schools"
				],
				"summary": "Gets a school by ID",
				"description": "Gets a school by ID",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "schoolId",
						"in": "path",
						"required": true,
						"type": "string"
					}
				],
				"responses": {
					"200": {
						"description": "Success",
						"schema": {
							"$ref": "#/definitions/School"
						}
					},
					"401": {
						"description": "Permission not granted."
					},
					"404": {
						"description": "The element with the given ID does not exist."
					}
				}
			},
			"put": {
				"tags": [
					"Schools"
				],
				"summary": "Modifies an existing school",
				"description": "Modifies an existing school",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "schoolId",
						"in": "path",
						"required": true,
						"type": "string"
					},
					{
						"in": "body",
						"name": "body",
						"required": false,
						"schema": {
							"$ref": "#/definitions/School"
						}
					}
				],
				"responses": {
					"200": {
						"description": "Success"
					},
					"400": {
						"description": "The submitted request is malformed."
					},
					"401": {
						"description": "Permission not granted."
					},
					"404": {
						"description": "The element with the given ID does not exist."
					}
				}
			}
		},
		"/school/{schoolId}/feedbacks": {
			"get": {
				"tags": [
					"Schools"
				],
				"summary": "Gets all school feedbacks",
				"description": "Gets all school feedbacks",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "schoolId",
						"in": "path",
						"required": true,
						"type": "string"
					}
				],
				"responses": {
					"200": {
						"description": "Success",
						"schema": {
							"type": "array",
							"items": {
								"$ref": "#/definitions/Feedback"
							}
						}
					},
					"401": {
						"description": "Permission not granted."
					},
					"404": {
						"description": "The requested resource does not exist."
					}
				}
			}
		},
		"/school/{schoolId}/employees": {
			"get": {
				"tags": [
					"Schools"
				],
				"summary": "Gets all school employees",
				"description": "Gets all school employees",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "schoolId",
						"in": "path",
						"required": true,
						"type": "string"
					}
				],
				"responses": {
					"200": {
						"description": "Success",
						"schema": {
							"type": "array",
							"items": {
								"$ref": "#/definitions/Employee"
							}
						}
					},
					"401": {
						"description": "Permission not granted."
					},
					"404": {
						"description": "The requested resource does not exist."
					}
				}
			}
		},
		"/school/{schoolId}/generators": {
			"get": {
				"tags": [
					"Schools"
				],
				"summary": "Gets all generators of a school",
				"description": "Gets all generators of a school",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "schoolId",
						"in": "path",
						"required": true,
						"type": "string"
					}
				],
				"responses": {
					"200": {
						"description": "Success",
						"schema": {
							"type": "array",
							"items": {
								"$ref": "#/definitions/Generator"
							}
						}
					},
					"401": {
						"description": "Permission not granted."
					},
					"404": {
						"description": "The requested resource does not exist."
					}
				}
			}
		},
		"/school/{schoolId}/messages": {
			"get": {
				"tags": [
					"Schools"
				],
				"summary": "Gets all school messages",
				"description": "Gets all school messages",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "schoolId",
						"in": "path",
						"required": true,
						"type": "string"
					}
				],
				"responses": {
					"200": {
						"description": "Success",
						"schema": {
							"type": "array",
							"items": {
								"$ref": "#/definitions/Message"
							}
						}
					},
					"401": {
						"description": "Permission not granted."
					},
					"404": {
						"description": "The requested resource does not exist."
					}
				}
			}
		},
		"/school/{schoolId}/transactions": {
			"get": {
				"tags": [
					"Schools"
				],
				"summary": "Gets all transactions for a given school, for a given user ID",
				"description": "Gets all transactions for a given school, for a given user ID",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "schoolId",
						"in": "path",
						"required": true,
						"type": "string"
					}
				],
				"responses": {
					"200": {
						"description": "Success",
						"schema": {
							"type": "array",
							"items": {
								"$ref": "#/definitions/Transaction"
							}
						}
					},
					"401": {
						"description": "Permission not granted."
					},
					"404": {
						"description": "The requested resource does not exist."
					}
				}
			}
		},
		"/transaction": {
			"post": {
				"tags": [
					"Payments"
				],
				"summary": "Creates a new transaction",
				"description": "Creates a new transaction",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"in": "body",
						"name": "body",
						"required": false,
						"schema": {
							"$ref": "#/definitions/Transaction"
						}
					}
				],
				"responses": {
					"200": {
						"description": "Success"
					},
					"400": {
						"description": "The submitted request is malformed."
					},
					"401": {
						"description": "Permission not granted."
					}
				}
			}
		},
		"/transaction/{transactionId}": {
			"get": {
				"tags": [
					"Payments"
				],
				"summary": "Gets a transaction by ID",
				"description": "Gets a transaction by ID",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "transactionId",
						"in": "path",
						"required": true,
						"type": "string"
					}
				],
				"responses": {
					"200": {
						"description": "Success",
						"schema": {
							"$ref": "#/definitions/Transaction"
						}
					},
					"401": {
						"description": "Permission not granted."
					},
					"404": {
						"description": "The element with the given ID does not exist."
					}
				}
			}
		},
		"/user": {
			"get": {
				"tags": [
					"Users"
				],
				"summary": "Gets users according to parameters (will be paged to avoid huge lists).",
				"description": "Gets users according to parameters (will be paged to avoid huge lists).",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "startPage",
						"in": "query",
						"description": "Index of the page to fetch",
						"required": false,
						"type": "array",
						"items": {
							"type": "string"
						}
					},
					{
						"name": "pageSize",
						"in": "query",
						"description": "Size of a page",
						"required": false,
						"type": "array",
						"items": {
							"type": "string"
						}
					}
				],
				"responses": {
					"200": {
						"description": "Success",
						"schema": {
							"type": "array",
							"items": {
								"$ref": "#/definitions/User"
							}
						}
					},
					"400": {
						"description": "The submitted request is malformed."
					},
					"401": {
						"description": "Permission not granted."
					},
					"404": {
						"description": "The element with the given ID does not exist."
					}
				}
			},
			"post": {
				"tags": [
					"Users"
				],
				"summary": "Creates a new user.",
				"description": "Creates a new user.",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"in": "body",
						"name": "body",
						"required": false,
						"schema": {
							"$ref": "#/definitions/User"
						}
					}
				],
				"responses": {
					"200": {
						"description": "Success"
					},
					"400": {
						"description": "The submitted request is malformed."
					},
					"401": {
						"description": "Permission not granted."
					}
				}
			}
		},
		"/user/stub": {
			"post": {
				"tags": [
					"Users"
				],
				"summary": "Creates a new stub user.",
				"description": "Creates a new stub user.",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "email",
						"in": "query",
						"description": "The email of the stub user - This parameter IS mandatory",
						"required": false,
						"type": "array",
						"items": {
							"type": "string"
						}
					},
					{
						"name": "firstName",
						"in": "query",
						"description": "The name of the stub user - This parameter is NOT mandatory",
						"required": false,
						"type": "array",
						"items": {
							"type": "string"
						}
					},
					{
						"name": "lastName",
						"in": "query",
						"description": "The lastName of the stub user - This parameter is NOT mandatory",
						"required": false,
						"type": "array",
						"items": {
							"type": "string"
						}
					}
				],
				"responses": {
					"200": {
						"description": "Success"
					},
					"400": {
						"description": "The submitted request is malformed."
					},
					"401": {
						"description": "You do not have sufficient access to perform this operation"
					},
					"405": {
						"description": "Method not allowed."
					}
				}
			}
		},
		"/user/{userId}": {
			"get": {
				"tags": [
					"Users"
				],
				"summary": "Gets a user by ID",
				"description": "Gets a user by ID",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "userId",
						"in": "path",
						"description": "ID of the user to work with",
						"required": true,
						"type": "string"
					}
				],
				"responses": {
					"200": {
						"description": "Success",
						"schema": {
							"type": "array",
							"items": {
								"$ref": "#/definitions/User"
							}
						}
					},
					"401": {
						"description": "Permission not granted."
					},
					"404": {
						"description": "The element with the given ID does not exist."
					}
				}
			},
			"put": {
				"tags": [
					"Users"
				],
				"summary": "Updates a selected user",
				"description": "Updates a selected user",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "userId",
						"in": "path",
						"description": "ID of the user to work with",
						"required": true,
						"type": "string"
					},
					{
						"in": "body",
						"name": "body",
						"required": false,
						"schema": {
							"$ref": "#/definitions/User"
						}
					}
				],
				"responses": {
					"200": {
						"description": "Success"
					},
					"400": {
						"description": "The submitted request is malformed."
					},
					"401": {
						"description": "Permission not granted."
					},
					"404": {
						"description": "The element with the given ID does not exist."
					}
				}
			},
			"delete": {
				"tags": [
					"Users"
				],
				"summary": "Deletes a user by ID",
				"description": "Deletes a user by ID",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "userId",
						"in": "path",
						"description": "ID of the user to work with",
						"required": true,
						"type": "string"
					}
				],
				"responses": {
					"200": {
						"description": "Success"
					},
					"401": {
						"description": "Permission not granted."
					},
					"404": {
						"description": "The element with the given ID does not exist."
					}
				}
			}
		},
		"/user/{userId}/feedbacks": {
			"get": {
				"tags": [
					"Users"
				],
				"summary": "Gets all user feedbacks",
				"description": "Gets all user feedbacks",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "userId",
						"in": "path",
						"required": true,
						"type": "string"
					}
				],
				"responses": {
					"200": {
						"description": "Success",
						"schema": {
							"type": "array",
							"items": {
								"$ref": "#/definitions/Feedback"
							}
						}
					},
					"401": {
						"description": "Permission not granted."
					},
					"404": {
						"description": "The element with the given ID does not exist."
					}
				}
			}
		},
		"/user/{userId}/lessons": {
			"get": {
				"tags": [
					"Users"
				],
				"summary": "Gets all user lessons",
				"description": "Gets all user lessons",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "userId",
						"in": "path",
						"required": true,
						"type": "string"
					}
				],
				"responses": {
					"200": {
						"description": "Success",
						"schema": {
							"type": "array",
							"items": {
								"$ref": "#/definitions/Lesson"
							}
						}
					},
					"401": {
						"description": "Permission not granted."
					},
					"404": {
						"description": "The element with the given ID does not exist."
					}

				}
			}
		},
		"/user/{userId}/messages": {
			"get": {
				"tags": [
					"Users"
				],
				"summary": "Gets all user messages.",
				"description": "Gets all user messages.",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "userId",
						"in": "path",
						"description": "ID of the user to get the messages for",
						"required": true,
						"type": "string"
					}
				],
				"responses": {
					"200": {
						"description": "Success",
						"schema": {
							"type": "array",
							"items": {
								"$ref": "#/definitions/Message"
							}
						}
					},
					"401": {
						"description": "Permission not granted."
					},
					"404": {
						"description": "The element with the given ID does not exist."
					}
				}
			}
		},
		"/user/{userId}/transactions": {
			"get": {
				"tags": [
					"Users"
				],
				"summary": "Gets all user transactions, for a given school",
				"description": "Gets all user transactions, for a given school",
				"consumes": [],
				"produces": [],
				"parameters": [
					{
						"name": "userId",
						"in": "path",
						"required": true,
						"type": "string"
					},
					{
						"name": "schoolId",
						"in": "query",
						"required": false,
						"type": "string"
					}
				],
				"responses": {
					"200": {
						"description": "Success",
						"schema": {
							"type": "array",
							"items": {
								"$ref": "#/definitions/Transaction"
							}
						}
					},
					"401": {
						"description": "Permission not granted."
					},
					"404": {
						"description": "The requested resource does not exist."
					}
				}
			}
		}
	},
	"definitions": {
		"User": {
			"required": [
				"_id",
				"active",
				"deleted",
				"email",
				"name",
				"surname"
			],
			"properties": {
				"_id": {
					"type": "string",
					"example": "1",
					"description": ""
				},
				"active": {
					"type": "boolean",
					"example": "false",
					"description": "Says whether the user confirmed the registration. Also becomes inactive upon account deletion request."
				},
				"authentications": {
					"type": "array",
					"description": "A list of available authentication methods configured for the user.",
					"items": {
						"$ref": "#/definitions/Authentication"
					}
				},
				"deleted": {
					"type": "boolean",
					"example": "false",
					"description": "Says whether the user has been deleted. If true - it is scheduled for permanent deletion."
				},
				"email": {
					"type": "string",
					"example": "sample email",
					"description": "The user's email address."
				},
				"name": {
					"type": "string",
					"example": "sample name",
					"description": "The user's name."
				},
				"phoneNumber": {
					"type": "string",
					"example": "sample phoneNumber",
					"description": "User's contact number."
				},
				"photoURL": {
					"type": "string",
					"example": "sample photoURL",
					"description": "URL of user's avatar."
				},
				"resetPasswordToken": {
					"type": "string",
					"example": "sample resetPasswordToken",
					"description": "A unique, random token dedicated for the specific user view to reset the password."
				},
				"surname": {
					"type": "string",
					"example": "sample surname",
					"description": "The user's surname."
				},
				"refferalToken": {
					"type": "string",
					"example": "sample refferalToken",
					"description": "The token assigned to a user when he will try to generate referal links"
				}
			}
		},
		"LessonTemplate": {
			"required": [
				"_id",
				"groupFlag",
				"instructor",
				"name",
				"prices"
			],
			"properties": {
				"_id": {
					"type": "string",
					"example": "sample _id"
				},
				"name": {
					"type": "string",
					"example": "sample name",
					"description": "Template name."
				},
				"groupFlag": {
					"type": "boolean",
					"example": "false",
					"description": "Determines whether it is an individual or a group lesson."
				},
				"instructor": {
					"type": "string",
					"example": "sample instructor",
					"description": "Instructor assigned to generated lessons."
				},
				"minParticipants": {
					"type": "integer",
					"format": "int32",
					"example": "1",
					"description": "Minimum amount of participants (for group lessons)."
				},
				"maxParticipants": {
					"type": "integer",
					"format": "int32",
					"example": "1",
					"description": "Maximum amount of participants (for a group lesson)."
				},
				"prices": {
					"type": "array",
					"description": "A list of prices for subsequent participants.",
					"items": {
						"type": "number",
						"format": "double",
						"example": "1.1"
					}
				},
				"minAge": {
					"type": "integer",
					"format": "int32",
					"example": "1",
					"description": "Minimum age of the lessons (for group lessons)."
				},
				"maxAge": {
					"type": "integer",
					"format": "int32",
					"example": "1",
					"description": "Maximum age of the lessons (for group lessons)."
				},
				"specialty": {
					"type": "array",
					"description": "Specialty of the generated lessons",
					"items": {
						"type": "string",
						"example": "sample specialty"
					}
				},
				"level": {
					"type": "array",
					"description": "Required skill level for the generated lessons.",
					"items": {
						"type": "string",
						"example": "sample level"
					}
				},
				"instructorBonusFlag": {
					"type": "boolean",
					"example": "false",
					"description": "Decides whether an instructor will receive bonus for the generated lessons."
				},
				"comment": {
					"type": "string",
					"example": "sample comment",
					"description": "A brief description of the template."
				},
				"bookingType": {
					"type": "string",
					"example": "sample bookingType",
					"description": "Decides whether it is a manual booking or by a school."
				}
			}
		},
		"Transaction": {
			"required": [
				"_id",
				"amount",
				"currency",
				"date",
				"product",
				"royaltyPercent",
				"transactionType",
				"userId"
			],
			"properties": {
				"_id": {
					"type": "string",
					"example": "1"
				},
				"amount": {
					"type": "number",
					"format": "double",
					"example": "1.1",
					"description": "The amount of money to be transferred from the purchaser to the school."
				},
				"bonus": {
					"type": "number",
					"format": "double",
					"example": "1.1",
					"description": "Amount of bonus money awarded by the school in case of a special transaction or promotion"
				},
				"comment": {
					"type": "string",
					"example": "sample comment",
					"description": "A brief description of transaction's purpose."
				},
				"currency": {
					"type": "string",
					"example": "sample currency",
					"description": "The currency in which the transaction will be done."
				},
				"date": {
					"type": "string",
					"format": "date",
					"example": "1.1",
					"description": "A date at which the transaction occurs."
				},
				"product": {
					"description": "Entity defining the product that has been ordered.",
					"$ref": "#/definitions/EntityID"
				},
				"schoolId": {
					"type": "string",
					"example": "1.1",
					"description": "ID of the school that does the transaction (if it is not manually booked)."
				},
				"transactionType": {
					"type": "string",
					"example": "sample transactionType",
					"description": "Type of the transaction: lesson purchase, refund, referral bonus, etc."
				},
				"userId": {
					"type": "string",
					"example": "1.1",
					"description": "ID of the user for whom the lesson was booked"
				},
				"bookerId": {
					"type": "string",
					"example": "sample bookerId",
					"description": "ID of the user of stub user who booked this lesson"
				},
				"royaltyPercent": {
					"type": "number",
					"format": "double",
					"example": "1.1",
					"description": "The percentage of money the school gets for the lesson."
				}
			},
			"description": "An entity representing a single transaction made by a user or  a school."
		},
		"Message": {
			"required": [
				"_id",
				"deleted",
				"fromId",
				"important",
				"message",
				"read",
				"timestamp",
				"toId",
				"type"
			],
			"properties": {
				"_id": {
					"type": "string",
					"example": "1"
				},
				"accepted": {
					"type": "boolean",
					"example": "false",
					"description": "Whether the request was accepted."
				},
				"assignedInstructorId": {
					"type": "string",
					"example": "sample assignedInstructorId",
					"description": "The id of the newly assigned instructor."
				},
				"bookerId": {
					"type": "string",
					"example": "sample bookerId",
					"description": "The id of the person (or school) who booked the lesson for you"
				},
				"changedFields": {
					"type": "array",
					"description": "The names of fields that were changed in the given lesson.",
					"items": {
						"type": "string",
						"example": "sample changedFields"
					}
				},
				"timestamp": {
					"type": "string",
					"format": "date",
					"description": "The time of this message creation"
				},
				"deleted": {
					"type": "boolean",
					"example": "false",
					"description": "Says whether the message has been deleted. If true - it is scheduled for permanent deletion."
				},
				"formerInstructorId": {
					"type": "string",
					"example": "sample formerInstructorId",
					"description": "The Id of the instructor previously assigned to this lesson."
				},
				"fromId": {
					"description": "Entity type and ID of the person / school which sent this message",
					"$ref": "#/definitions/EntityID"
				},
				"important": {
					"type": "boolean",
					"example": "false",
					"description": "Whether it is in the 'important' category."
				},
				"lessonId": {
					"type": "string",
					"example": "sample lessonId",
					"description": "The id of the lesson that was changed"
				},
				"memberId": {
					"type": "string",
					"example": "sample memberId",
					"description": "ID of the member assigning or unassigning the lesson."
				},
				"message": {
					"type": "string",
					"example": "sample message",
					"description": "The content of the message"
				},
				"oldRole": {
					"type": "string",
					"example": "sample oldRole",
					"description": "The previous role of the user who changed"
				},
				"participantId": {
					"type": "string",
					"example": "sample participantId",
					"description": "Person for whom the lesson was booked/unbooked for."
				},
				"productId": {
					"type": "string",
					"example": "sample productId",
					"description": "Id of added/removed/changed  lesson / bundle"
				},
				"read": {
					"type": "boolean",
					"example": "false",
					"description": "Whether it has already been read."
				},
				"role": {
					"type": "string",
					"example": "sample role",
					"description": "The role of the person requesting the lesson"
				},
				"timesOff": {
					"description": "A list of periods where the instructor will not be available",
					"$ref": "#/definitions/TimeInterval"
				},
				"toId": {
					"description": "Entity type and ID of the user/school that is the receiver of this message.",
					"$ref": "#/definitions/EntityID"
				},
				"type": {
					"type": "string",
					"example": "sample type",
					"description": "Type of message - request, notification etc."
				}
			},
			"description": "A generic Message entity, having all possible fields that could appear in any message type. <br>\nTypes and type-specific fields: <br>\n - time off request: timesOff, timeOffRepeats<br>\n - lesson request: role, accepted<br>\n - lesson booked/unbooked: lessonId, bookerId, participantId<br>\n - assigned lesson: memberId, assignedInstructorId, lessonId<br>\n - unassigned lesson: memberId, lessonId, formerInstructorId<br>\n - product added/removed/changed: productId, changedFields<br>\n - membership accepted/refused: requestId, memberId<br>\n - membership over/changed: memberId, oldRole<br>"
		},
		"BundleTemplate": {
			"required": [
				"_id",
				"discount",
				"name"
			],
			"properties": {
				"_id": {
					"type": "string",
					"example": "sample _id"
				},
				"name": {
					"type": "string",
					"example": "sample name",
					"description": "Name of the generated bundles."
				},
				"comment": {
					"type": "string",
					"example": "sample comment",
					"description": "Auto-generated comment for every bundle."
				},
				"discount": {
					"description": "Discount for the generated bundles.",
					"$ref": "#/definitions/Discount"
				}
			}
		},
		"MeetingPoint": {
			"required": [
				"geo",
				"name"
			],
			"properties": {
				"geo": {
					"description": "Coordinates of the meeting point.",
					"$ref": "#/definitions/Geo"
				},
				"name": {
					"type": "string",
					"example": "sample Name",
					"description": "Name of the meeting point."
				}
			},
			"description": "Default meeting point for a lesson"
		},
		"Generator": {
			"required": [
				"_id",
				"deleted",
				"lessonTemplate",
				"name",
				"priority",
				"publicFlag",
				"schoolId",
				"times",
				"type"
			],
			"properties": {
				"_id": {
					"type": "integer",
					"format": "int64",
					"example": "1"
				},
				"comment": {
					"type": "string",
					"example": "sample comment",
					"description": "A brief description of the generator."
				},
				"deleted": {
					"type": "boolean",
					"example": "false",
					"description": "Says whether the generator has been deleted. If true - it is scheduled for permanent deletion."
				},
				"generatedLessons": {
					"type": "array",
					"description": "A list of IDs of lessons generated by this generator.",
					"items": {
						"type": "string",
						"example": "1"
					}
				},
				"name": {
					"type": "string",
					"example": "sample name",
					"description": "Name of the generator."
				},
				"type": {
					"type": "string",
					"example": "sample type",
					"description": "Determines whether it is a lesson or a bundle generator."
				},
				"generatedBundles": {
					"type": "array",
					"description": "A list of IDs of bundles generated by this generator.",
					"items": {
						"type": "string",
						"example": "sample generatedBundles"
					}
				},
				"lessonTemplate": {
					"description": "Template used to create new lessons.",
					"$ref": "#/definitions/LessonTemplate"
				},
				"priority": {
					"type": "integer",
					"format": "int32",
					"example": "1",
					"description": "The generator priority (starting from 1, 2, 3, ...), determines the generator precedence in case of overlapping lessons."
				},
				"bundleTemplate": {
					"description": "Template used to generate bundles.",
					"$ref": "#/definitions/BundleTemplate"
				},
				"schoolId": {
					"type": "string",
					"example": "sample schoolId",
					"description": "ID of the school the generator belongs to."
				},
				"times": {
					"description": "List of time intervals for which the lessons / bundles will be generated.",
					"$ref": "#/definitions/TimeInterval"
				},
				"publicFlag": {
					"type": "boolean",
					"example": "false",
					"description": "Decides whether the generated lessons and bundles are public."
				}
			}
		},
		"TimeInterval": {
			"required": [
				"endTime",
				"startTime"
			],
			"properties": {
				"endTime": {
					"type": "string",
					"format": "date"
				},
				"startTime": {
					"type": "string",
					"format": "date"
				}
			},
			"description": "An entity representing a pair of times - starting and ending."
		},
		"Employee": {
			"required": [
				"_id",
				"deleted",
				"languages",
				"permissions",
				"timesOff",
				"userId"
			],
			"properties": {
				"_id": {
					"type": "string",
					"example": "sample _id"
				},
				"userId": {
					"description": "The corresponding `User`, stored as ID, but will be fetched as an entire embedded object at backend side.",
					"$ref": "#/definitions/User"
				},
				"permissions": {
					"type": "array",
					"description": "What the user is allowed to do in this school.",
					"items": {
						"type": "string",
						"example": "sample permissions"
					}
				},
				"timesOff": {
					"type": "array",
					"description": "Time intervals during which the user is unavailable",
					"items": {
						"$ref": "#/definitions/TimeInterval"
					}
				},
				"specialties": {
					"type": "array",
					"description": "Specialties the user can teach.",
					"items": {
						"type": "string",
						"example": "sample specialties"
					}
				},
				"languages": {
					"type": "array",
					"description": "The languages this employee can speak",
					"items": {
						"type": "string",
						"example": "sample languages"
					}
				},
				"deleted": {
					"type": "boolean",
					"example": "false",
					"description": "Says whether the employee was deleted."
				}
			},
			"description": "School employee"
		},
		"Authentication": {
			"required": [
				"type"
			],
			"properties": {
				"password": {
					"type": "string",
					"example": "sample password",
					"description": "User password."
				},
				"token": {
					"type": "string",
					"example": "sample token"
				},
				"type": {
					"type": "string",
					"example": "sample type",
					"description": "Authentication type."
				}
			},
			"description": "An object describing a user's authentication (facebook, google, regular, etc). \nWIP - will be modified once passport is implemented"
		},
		"Bundle": {
			"required": [
				"_id",
				"deleted",
				"lessons",
				"name",
				"publicFlag",
				"schoolId"
			],
			"properties": {
				"_id": {
					"type": "string",
					"example": "1"
				},
				"comment": {
					"type": "string",
					"example": "sample comment",
					"description": "A creators comment towards the bundle."
				},
				"deleted": {
					"type": "boolean",
					"example": "false",
					"description": "Says whether the bundle has been deleted. If true - it is scheduled for permanent deletion."
				},
				"discount": {
					"description": "The discount the user gets for the lessons in this bundle",
					"$ref": "#/definitions/Discount"
				},
				"lessons": {
					"type": "array",
					"description": "A list of lessons belonging to this bundle.",
					"items": {
						"type": "string",
						"example": "1"
					}
				},
				"name": {
					"type": "string",
					"example": "sample name",
					"description": "The name of the bundle."
				},
				"publicFlag": {
					"type": "boolean",
					"example": "false",
					"description": "A flag determining whether the bundle is public or private."
				},
				"schoolId": {
					"type": "string",
					"example": "1",
					"description": "ID of the school at which the bundle's lessons will occur."
				},
				"generatorId": {
					"type": "string",
					"example": "sample generatorId",
					"description": "ID of the generator the bundle comes from (if any)."
				}
			},
			"description": "A group of lessons with a discount if a user will decide to purchase all of them."
		},
		"Address": {
			"properties": {
				"city": {
					"type": "string",
					"example": "sample city"
				},
				"country": {
					"type": "string",
					"example": "sample country"
				},
				"street": {
					"type": "string",
					"example": "sample street"
				},
				"streetNum": {
					"type": "integer",
					"format": "int32",
					"example": "1"
				},
				"zipcode": {
					"type": "string",
					"example": "sample zipcode"
				},
				"state": {
					"type": "string",
					"example": "sample state"
				}
			},
			"description": "Internal object of a School entity."
		},
		"Discount": {
			"required": [
				"type",
				"value"
			],
			"properties": {
				"type": {
					"type": "string",
					"example": "1.1",
					"description": "Enum representing the discount type - flatPerLesson / flatTotal / percentage"
				},
				"value": {
					"type": "number",
					"format": "double",
					"example": "1.1",
					"description": "Numerical value of the discount"
				}
			},
			"description": "Object representing fields needed for different types of discounts."
		},
		"Feedback": {
			"required": [
				"_id",
				"fromWhom",
				"lessonId",
				"rating",
				"schoolId",
				"toWhom"
			],
			"properties": {
				"_id": {
					"type": "string",
					"example": "1"
				},
				"fromWhom": {
					"description": "ID and entity type of the sender.",
					"$ref": "#/definitions/EntityID"
				},
				"lessonId": {
					"type": "string",
					"example": "1",
					"description": "ID of the lesson the feedback refers to."
				},
				"schoolId": {
					"type": "string",
					"example": "1",
					"description": "ID of the school the lesson was carried out at."
				},
				"toWhom": {
					"description": "ID and entity type of the receiver.",
					"$ref": "#/definitions/EntityID"
				},
				"message": {
					"type": "string",
					"example": "sample message",
					"description": "The content of the feedback"
				},
				"rating": {
					"type": "number",
					"format": "double",
					"example": "1.1",
					"description": "The rating of the feedback"
				},
				"absences": {
					"type": "array",
					"description": "A list of users who didn't show up for the lesson in case it didn't occur after all.",
					"items": {
						"type": "string",
						"example": "sample absences"
					}
				},
				"comment": {
					"type": "string",
					"example": "sample comment",
					"description": "A note on the lesson in case of special situations (e.g. if it didn't happen for whatever reason)."
				}
			},
			"description": "Entity representing a feedback (user to instructor, instructor to user or user to school)"
		},
		"EntityID": {
			"required": [
				"entity",
				"entityId"
			],
			"properties": {
				"entityId": {
					"type": "string",
					"example": "sample entityId",
					"description": "ID of the object selected by `entity` field"
				},
				"entity": {
					"type": "string",
					"example": "sample entity",
					"description": "Selects an entity type: school, employee, user, lesson, bundle"
				}
			},
			"description": "Helper object defining an entity type"
		},
		"Geo": {
			"required": [
				"lat",
				"lng"
			],
			"properties": {
				"lat": {
					"type": "number",
					"format": "double",
					"example": "1.1"
				},
				"lng": {
					"type": "number",
					"format": "double",
					"example": "1.1"
				}
			},
			"description": "Internal coordinate object used for meeting points."
		},
		"Lesson": {
			"required": [
				"_id",
				"booked",
				"bookingType",
				"clientSource",
				"deleted",
				"instructorId",
				"meetingPoint",
				"name",
				"participants",
				"schoolId"
			],
			"properties": {
				"_id": {
					"type": "string",
					"example": "1"
				},
				"booked": {
					"type": "boolean",
					"example": "false",
					"description": "Whether it is booked or not"
				},
				"bookingType": {
					"type": "string",
					"example": "sample bookingType",
					"description": "Whether it's booked by one or multiple persons"
				},
				"bundleId": {
					"type": "string",
					"example": "1",
					"description": "Id of the bundle containing the lesson"
				},
				"clientSource": {
					"type": "string",
					"example": "sample clientSource",
					"description": "Skipodium user, manually booked by school, white label etc"
				},
				"comment": {
					"type": "string",
					"example": "sample comment",
					"description": "A brief comment about the lesson."
				},
				"deleted": {
					"type": "boolean",
					"example": "false",
					"description": "Says whether the lesson has been deleted. If true - it is scheduled for permanent deletion."
				},
				"timeSpan": {
					"description": "Lesson time span",
					"$ref": "#/definitions/TimeInterval"
				},
				"instructorBonusFlag": {
					"type": "boolean",
					"example": "false",
					"description": "Bonus the instructor gets for the lesson"
				},
				"instructorId": {
					"type": "string",
					"example": "1",
					"description": "ID of the instructor running the lesson."
				},
				"level": {
					"type": "array",
					"description": "The skill levels involved in this lesson.",
					"items": {
						"type": "string",
						"example": "sample level"
					}
				},
				"maxAge": {
					"type": "integer",
					"format": "int32",
					"example": "1",
					"description": "Maximum age for this lesson."
				},
				"maxParticipants": {
					"type": "integer",
					"format": "int32",
					"example": "1",
					"description": "Maximum number of participants."
				},
				"meetingPoint": {
					"description": "A meeting point for this lesson.",
					"$ref": "#/definitions/MeetingPoint"
				},
				"minAge": {
					"type": "integer",
					"format": "int32",
					"example": "1",
					"description": "Minimum age for this lesson."
				},
				"minParticipants": {
					"type": "integer",
					"format": "int32",
					"example": "1",
					"description": "Minimum number of participants for this lesson."
				},
				"name": {
					"type": "string",
					"example": "sample name",
					"description": "Name of the lesson."
				},
				"participants": {
					"type": "array",
					"description": "List of participants  attending this lesson",
					"items": {
						"type": "string",
						"example": "sample participants"
					}
				},
				"prices": {
					"type": "array",
					"description": "A list of price thresholds, depending on the time of booking",
					"items": {
						"type": "number",
						"format": "double",
						"example": "1.1"
					}
				},
				"schoolId": {
					"type": "string",
					"example": "1",
					"description": "ID of the school at which the lesson was carried out."
				},
				"specialties": {
					"type": "array",
					"description": "The specialities covered by the lesson",
					"items": {
						"type": "string",
						"example": "sample specialties"
					}
				},
				"previousInstructorId": {
					"type": "string",
					"example": "sample previousInstructorId",
					"description": "Id of the previous instructor"
				},
				"generatorId": {
					"type": "string",
					"example": "sample generatorId",
					"description": "ID of the generator the lesson comes from (if any)."
				}
			}
		},
		"School": {
			"required": [
				"_id",
				"address",
				"bankDetails",
				"defaultMeetingPoints",
				"deleted",
				"email",
				"employees",
				"enabled",
				"logo",
				"messages",
				"name",
				"openingHours",
				"resort",
				"royaltyPercent"
			],
			"properties": {
				"_id": {
					"type": "string",
					"example": "1"
				},
				"address": {
					"description": "School address",
					"$ref": "#/definitions/Address"
				},
				"bankDetails": {
					"description": "School banking information.",
					"$ref": "#/definitions/BankDetails"
				},
				"contacts": {
					"type": "array",
					"description": "A list of phone numbers, emails, or any contact details the school possesses.",
					"items": {
						"type": "string",
						"example": "sample contacts"
					}
				},
				"defaultMeetingPoints": {
					"type": "array",
					"description": "A list of established meeting points for instructors and students.",
					"items": {
						"$ref": "#/definitions/MeetingPoint"
					}
				},
				"deleted": {
					"type": "boolean",
					"example": "false",
					"description": "Says whether the school has been deleted. If true - it is scheduled for permanent deletion."
				},
				"email": {
					"type": "string",
					"example": "sample email",
					"description": "Main email address which can be used to contact the school"
				},
				"logo": {
					"type": "string",
					"example": "sample logo",
					"description": "An url  with the school logo file"
				},
				"messages": {
					"type": "array",
					"description": "An inbox containing all messages sent to the school",
					"items": {
						"type": "string",
						"example": "sample messages"
					}
				},
				"name": {
					"type": "string",
					"example": "sample name",
					"description": "The name of the school"
				},
				"openingHours": {
					"type": "string",
					"format": "date",
					"description": "School working time (internal object with start and end time)."
				},
				"resort": {
					"type": "array",
					"description": "A list of all resorts of given school - a minimum of one is required",
					"items": {
						"type": "string",
						"example": "sample resort"
					}
				},
				"manuallySetRating": {
					"type": "number",
					"format": "double",
					"example": "1.1",
					"description": "School's rating"
				},
				"enabled": {
					"type": "boolean",
					"example": "false",
					"description": "Says whether the school lesson is enabled (e.g. whether its lessons appear for users)."
				},
				"royaltyPercent": {
					"type": "number",
					"format": "double",
					"example": "1.1",
					"description": "The percentage of money the school receives for every lesson."
				},
				"employees": {
					"type": "array",
					"description": "List of school employees",
					"items": {
						"$ref": "#/definitions/Employee"
					}
				}
			},
			"description": "Information about a given school"
		},
		"BankDetails": {
			"required": [
				"accountNumber",
				"currency"
			],
			"properties": {
				"accountNumber": {
					"type": "string",
					"example": "1",
					"description": "Bank account number."
				},
				"currency": {
					"type": "string",
					"example": "sample currency",
					"description": "Currency the account number is in."
				}
			},
			"description": "This will be an internal object of an entity of type School."
		}
	}
}
